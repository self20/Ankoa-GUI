#:kivy 1.8.0
#:import user app.settings.conf_dict.user

# ---------- FILEMANAGER ----------
<File_managerPopup>:
    size_hint: .8, .8
    auto_dismiss: True
    title: 'File Manager'

    BoxLayout:
        TabbedPanel:
            tab_pos: "top_right"
            default_tab_text: "List View"
            default_tab_content: list_view_tab

            TabbedPanelHeader:
                text: 'Icon View'
                content: icon_view_tab

            # --- LIST VIEW ---
            FileChooserListView:
                id: list_view_tab
                filters:
                    ['*.ass', '*.srt', '*.vobsub', '*.pgs']
                rootpath: user['source_folder']
                value:
                    self.selection and\
                    self.selection[0] or ''
                on_selection:
                    app.load_sub_source(self.value)

            # --- ICON VIEW ---
            FileChooserIconView:
                id: icon_view_tab
                filters:
                    ['*.ass', '*.srt', '*.vobsub', '*.pgs']
                rootpath: user['source_folder']
                value:
                    self.selection and\
                    self.selection[0] or ''
                on_selection:
                    app.load_sub_source(self.value)
