#:kivy 1.8.0

# ---------- SUBTITLES SETTINGS POPUP ----------
<SubSettingsPopup>:
    size_hint: .5, .4
    auto_dismiss: True
    title: 'Subtitles Settings'

    GridLayout:
        cols: 1
        spacing: 5
        row_force_default: True
        row_default_height: 50

        # --- SUBTITLES FLAG ---
        BoxLayout:
            padding: 8
            canvas:
                Color:
                    rgba: 47 / 255., 167 / 255., 212 / 255., .1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Switch:
                id: check_flag
                size_hint_x: .2
                touch_control: False
                active:
                    True if\
                    root.ids.default_track.state == 'down' or\
                    root.ids.forced_track.state == 'down' else False

            Label:
                text: 'Subs flag'
                size_hint_x: .4

            ToggleButton:
                id: default_track
                size_hint_x: .3
                text: 'DEFAULT'

            ToggleButton:
                id: forced_track
                size_hint_x: .3
                text: 'FORCED'

        # --- SUBTITLES DELAY ---
        BoxLayout:
            padding: 8
            canvas:
                Color:
                    rgba: 47 / 255., 167 / 255., 212 / 255., .2
                Rectangle:
                    size: self.size
                    pos: self.pos

            Switch:
                size_hint_x: .2
                id: check_delay
                touch_control: False
                active:
                    True if\
                    root.ids.sub_delay.text != '' or\
                    root.ids.sub_strech.text != '' else False

            Label:
                text: 'Subs delay'
                size_hint_x: .4

            TextInput:
                id: sub_delay
                size_hint_x: .25
                hint_text: 'Delay (ms)'
                padding: 8, 8, 0, 0

            TextInput:
                id: sub_strech
                size_hint_x: .35
                hint_text: 'Strech by'
                padding: 8, 8, 0, 0

        # --- SUBTITLES CHARSET ---
        BoxLayout:
            padding: 8
            canvas:
                Color:
                    rgba: 47 / 255., 167 / 255., 212 / 255., .1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Switch:
                size_hint_x: .2
                id: check_charset
                touch_control: False
                active:
                    True if root.ids.sub_charset.text != '' else False

            Label:
                text: 'Subs charset'
                size_hint_x: .4

            TextInput:
                id: sub_charset
                size_hint_x: .6
                hint_text: 'Subtitles charset (utf-8, cp1252...)'
                padding: 8, 8, 0, 0

        # --- COMPRESSION ---
        BoxLayout:
            padding: 8
            canvas:
                Color:
                    rgba: 47 / 255., 167 / 255., 212 / 255., .2
                Rectangle:
                    size: self.size
                    pos: self.pos

            Switch:
                size_hint_x: .2
                id: check_compression
                touch_control: False
                active:
                    True if\
                    root.ids.compress_none.state == 'down' or\
                    root.ids.compress_zlib.state == 'down' else False

            Label:
                text: 'Compression'
                size_hint_x: .4

            ToggleButton:
                id: compress_none
                size_hint_x: .3
                text: 'NONE'

            ToggleButton:
                id: compress_zlib
                size_hint_x: .3
                text: 'ZLiB'
