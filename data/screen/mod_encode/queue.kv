#:kivy 1.8.0

# ---------- QUEUE SCREEN ----------
<queue@Widget>:
    pos_hint: {'center_x': .5, 'center_y': .5}
    size_hint: .96, .96
    spacing: 5
    cols: 1

    # ---------- SOURCE INFOS ----------
    BoxLayout:
        size_hint: 1, .4
        TextInput:
            readonly: True
            padding_x: '20sp'
            cursor_color: 0, 0, 0, .5
            background_color: 0, 0, 0, .5
            foreground_color: 0, 255, 0, 1
            hint_text: 'Source Infos Area'
            hint_text_color: 0, 255, 0, 1
            text:
                '' if app.scan_data is None else\
                (app.scan_data).strip()

    # ---------- FFMPEG CMD ----------
    BoxLayout:
        size_hint: 1, .4
        TextInput:
            readonly: True
            padding_x: '20sp'
            cursor_color: 0, 0, 0, .5
            background_color: 0, 0, 0, .5
            foreground_color: 0, 255, 0, 1
            hint_text: 'Source Infos Area'
            hint_text_color: 0, 255, 0, 1
            text: 'FFMPEG Command'

    # ---------- MENU ----------
    GridLayout:
        cols: 2
        spacing: 5
        padding: '8sp'
        orientation: 'vertical'
        size_hint: 1, .1

        # --- Add to queue ---
        Button:
            request: 'ErrorPopup()'
            text: 'Add to queue'
            on_press:
                app.main_popup(self.request) if\
                app.check_encode_values() == False else\
                (app.get_source_infos() and\
                app.get_picture_infos() and\
                app.get_video_infos() and\
                app.get_audio_infos() and\
                app.get_subtitles_infos() and\
                app.get_advanced_infos())

        # --- Copy cmd to clipboard ---
        Button:
            text: 'Copy command to clipboard'
