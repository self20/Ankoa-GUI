#:kivy 1.8.0

<source@Widget>:
    pos_hint: {'center_x': .5, 'center_y': .5}
    size_hint: .96, .96
    cols: 1
    canvas:
        Color:
            rgba: .2, .3, .4, .5
        Rectangle:
            size: self.size
            pos: self.pos

    # ---------- FILEMANAGER ----------
    BoxLayout:
        TabbedPanel:
            tab_pos: "top_right"
            default_tab_text: "List View"
            default_tab_content: list_view_tab

            TabbedPanelHeader:
                text: 'Icon View'
                content: icon_view_tab

            FileChooserListView:
                id: list_view_tab
                rootpath: app.source_folder

            FileChooserIconView:
                id: icon_view_tab
                rootpath: app.dest_folder

    # ---------- RELEASE SOURCE ----------
    BoxLayout:
        padding: '8sp'
        orientation: 'horizontal'
        size_hint: 1, .1
        canvas:
            Color:
                rgba: .2, .3, .4, 1
            Rectangle:
                size: self.size
                pos: self.pos
        Switch:
            size_hint_x: .14
            active:
                True if root.ids.source.text else False
        Label:
            text: 'Video Source'
            size_hint_x: .28
            bold: True
        TextInput:
            id: source
            multiline: False
            readonly: True
            text:
                list_view_tab.selection and\
                list_view_tab.selection[0] or ''
            on_text:
                app.scan_source_infos(root.ids.source.text)

    # ---------- RELEASE TITLE ----------
    BoxLayout:
        padding: '8sp'
        orientation: 'horizontal'
        size_hint: 1, .1
        Switch:
            size_hint_x: .14
            active:
                True if root.ids.title.text else False
        Label:
            text: 'Release Title'
            size_hint_x: .28
            bold: True
        TextInput:
            id: title
            multiline: False
            text:
                list_view_tab.selection and\
                list_view_tab.selection[0].split('/')[-1] or ''
