#:kivy 1.8.0
#:import uuid uuid

# ---------- SUBTITLES FILE WIDGET ----------
GridLayout:
    id: subFile
    padding: '4sp'
    cols: 2
    rows: 1
    canvas:
        Color:
            rgba: 128, 128, 1, .5
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        id: sub_infos
        type: 'subfile'
        group: uuid.uuid4()
        padding: '5sp'

        # --- Check Subtitles Track ---
        Switch:
            size_hint_x: .2
            touch_control: False
            active: True if sub_source.text != '' else False

        # --- DEL Subtitles Track ---
        Button:
            text: 'DEL'
            size_hint_x: .1
            on_press: app.del_subtitles_track(root)
        Label:
            size_hint_x: .05

        # --- Select Track Source ---
        Button:
            text: 'FILE'
            size_hint_x: .2
            popup_id: 'File_managerPopup()'
            on_press:
                app.main_popup(self.popup_id);\
                app.get_current_track(root)

        # --- Subtitles Track Source ---
        TextInput:
            id: sub_source
            hint_text: 'Track Source'
            readonly: True
            multiline: False
            size_hint_x: .6
            padding: 8, 8, 0, 0

        # --- Subtitles Track Language ---
        TextInput:
            id: sub_track_lang
            hint_text: 'Language'
            multiline: False
            size_hint_x: .3
            padding: 8, 8, 0, 0
            readonly:
                True if sub_burned.state == 'down' else False

        # --- Subforced Track ---
        ToggleButton:
            id: sub_forced
            text: 'Forced'
            size_hint_x: .2
            group: root.ids.sub_infos.group
            value: '1' if self.state == 'down' else '0'

        # --- Burned Track ---
        ToggleButton:
            id: sub_burned
            text: 'Burned'
            size_hint_x: .2
            group: root.ids.sub_infos.group
            value: 'subburned' if self.state == 'down' else ''

        # --- Subcharset ---
        TextInput:
            id: sub_charset
            hint_text: 'Charset'
            multiline: False
            size_hint_x: .2
            padding: 8, 8, 0, 0
            readonly:
                True if sub_burned.state == 'down' else False
