#:kivy 1.8.0

# ---------- REMUX TRACKS LAYOUT ----------
<tracks_rmx@Widget>:
    pos_hint: {'center_x': .5, 'center_y': .5}
    size_hint: .97, .96
    spacing: 5
    cols: 1

    # ---------- SOURCE INFOS ----------
    BoxLayout:
        size_hint: 1, .4
        TextInput:
            readonly: True
            padding: 20, 15, 0, 0
            cursor_color: 0, 0, 0, .5
            background_color: 0, 0, 0, .5
            foreground_color: 0, 255, 0, 1
            hint_text: 'Source Infos Area'
            hint_text_color: 0, 255, 0, 1
            text:
                '' if app.scan_remux is None else\
                (app.scan_remux).strip()

    # ---------- VIDEO TRACK ----------
    BoxLayout:
        padding: 11
        orientation: 'horizontal'
        size_hint: 1, .14
        canvas:
            Color:
                rgba: .1, .1, .1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        # --- Check Video Track ---
        Switch:
            id: check_vtrack
            size_hint_x: .1
            touch_control: False
            active:
                True if root.ids.video_track_ID.text and\
                root.ids.movie_name.text else False

        # --- Video Track Label ---
        Label:
            text: 'Video Track'
            bold: True
            size_hint_x: .2

        # --- Video Track ID ---
        TextInput:
            id: video_track_ID
            hint_text: 'Track ID'
            multiline: False
            size_hint_x: .1
            input_filter: 'int'
            padding: 8, 8, 0, 0

        # --- Video Track Title ---
        TextInput:
            id: movie_name
            size_hint_x: .5
            hint_text: 'Track Title'
            multiline: False
            padding: 8, 8, 0, 0
            text:
                (app.remux_source).split('/')[-1][:-4]

        # --- Video Track Settings ---
        Button:
            text: 'SETTINGS'
            size_hint_x: .1
            popup_id: 'VideoSettingsPopup()'
            on_press: app.main_popup(self.popup_id)

    # ---------- OTHERS TRACKS MENU ----------
    BoxLayout:
        padding: 8
        orientation: 'horizontal'
        size_hint: 1, .1
        canvas:
            Color:
                rgba: 2, 2, 2, .5
            Rectangle:
                size: self.size
                pos: self.pos

        # --- Add audio Track ---
        Button:
            text: 'Add Audio Track'
            request: 'audioTrack'
            on_press: app.add_Track_rmx(self.request)

        # --- Add audio File ---
        Button:
            text: 'Import Audio Track'
            request: 'audioFile'
            on_press: app.add_Track_rmx(self.request)

        # --- Add Subtitles Track ---
        Button:
            text: 'Add Subtitles Track'
            request: 'subTrack'
            on_press: app.add_Track_rmx(self.request)

        # --- Add Subtitles File ---
        Button:
            text: 'Import Subtitles File'
            request: 'subFile'
            on_press: app.add_Track_rmx(self.request)

        # --- Clear Tracks ---
        Button:
            text: 'Clear All Tracks'
            on_press: app.clear_Tracks_rmx()

    # ---------- OTHERS TRACKS LAYOUT ----------
    GridLayout:
        cols: 1
        spacing: 5
        row_force_default: True
        row_default_height: 52
        id: tracks_layout_rmx
